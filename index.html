<!DOCTYPE html>
<html>
<head>
<style>
.mime{
	background:lightgray;
}
</style>
<title>Supports Test</title>
</head>
<body>
<h1>Browser Support Checker</h1>
<h2>Media</h2>
<h3>Basics</h3>
<table border="1">
<tr>
<th>Class</th>
<th>Description</th>
<th>Supported</th>
</tr>
<tr>
<td><code class="mime">HTMLMediaElement</code></td>
<td>-</td>
<td id="media-basics-htmlmediaelement"></td>
</tr>
<tr>
<td><code class="mime">MediaSource</code></td>
<td>-</td>
<td id="media-basics-mediasource"></td>
</tr>
</table>
<h3>Containers</h3>
<table border="1">
<tr>
<th>Codec</th>
<th>Description</th>
<th>Developer</th>
<th>Supported</th>
</tr>
<tr>
<td>F4V (<code class="mime">video/x-f4v</code>)</td>
<td>Flash MPEG-4 Video</td>
<td>MacroMedia</td>
<td id="media-containers-f4v"></td>
</tr>
<tr>
<td>FLV (<code class="mime">video/x-flv</code>)</td>
<td>Flash Video</td>
<td>MacroMedia</td>
<td id="media-containers-flv"></td>
</tr>
<tr>
<td>Matroska (<code class="mime">audio/x-matroska</code>)</td>
<td>Matroska container for audio</td>
<td>Google</td>
<td id="media-containers-matroska-audio"></td>
</tr>
<tr>
<td>Matroska (<code class="mime">video/x-matroska</code>)</td>
<td>Matroska container for audio and video</td>
<td>Google</td>
<td id="media-containers-matroska-video"></td>
</tr>
<tr>
<td>Ogg (<code class="mime">audio/ogg</code>)</td>
<td>Ogg container for audio</td>
<td>Xiph</td>
<td id="media-containers-ogg-audio"></td>
</tr>
<tr>
<td>Ogg (<code class="mime">video/ogg</code>)</td>
<td>Ogg container for audio and video</td>
<td>Xiph</td>
<td id="media-containers-ogg-video"></td>
</tr>
<tr>
<td>Ogg (<code class="mime">application/ogg</code>)</td>
<td>Ogg container for multiplexing</td>
<td>Xiph</td>
<td id="media-containers-ogg-application"></td>
</tr>
<tr>
<td>QuickTime (<code class="mime">video/quicktime</code>)</td>
<td>QuickTime</td>
<td>Apple</td>
<td id="media-containers-quicktime"></td>
</tr>
<tr>
<td>WebM (<code class="mime">audio/webm</code>)</td>
<td>WebM container for audio</td>
<td>Google</td>
<td id="media-containers-webm-audio"></td>
</tr>
<tr>
<td>WebM (<code class="mime">video/webm</code>)</td>
<td>WebM container for audio and video</td>
<td>Google</td>
<td id="media-containers-webm-video"></td>
</tr>
</table>
<h3>Audio</h3>
<table border="1">
<tr>
<th>Codec</th>
<th>Description</th>
<th>Developer</th>
<th>Supported</th>
</tr>
<tr>
<td>FLAC (<code class="mime">audio/flac</code>)</td>
<td>FLAC Raw (native container)</td>
<td>Xiph</td>
<td id="media-audio-flac-raw"></td>
</tr>
<tr>
<td>FLAC (<code class="mime">audio/ogg; codecs="flac"</code>)</td>
<td>FLAC inside an Ogg container</td>
<td>Xiph</td>
<td id="media-audio-flac-ogg"></td>
</tr>
<tr>
<td>FLAC (<code class="mime">audio/webm; codecs="flac"</code>)</td>
<td>FLAC inside an WebM container</td>
<td>Xiph</td>
<td id="media-audio-flac-webm"></td>
</tr>
<tr>
<td>Opus (<code class="mime">audio/opus</code>)</td>
<td>Opus Raw</td>
<td>Xiph</td>
<td id="media-audio-opus-raw"></td>
</tr>
<tr>
<td>Opus (<code class="mime">audio/ogg; codecs="opus"</code>)</td>
<td>Opus inside an Ogg container</td>
<td>Xiph</td>
<td id="media-audio-opus-ogg"></td>
</tr>
<tr>
<td>Opus (<code class="mime">audio/webm; codecs="opus"</code>)</td>
<td>Opus inside an WebM container</td>
<td>Xiph</td>
<td id="media-audio-opus-webm"></td>
</tr>
<tr>
<td>Speex (<code class="mime">audio/speex</code> or <code class="mime">audio/x-speex</code>)</td>
<td>Speex Raw</td>
<td>Xiph</td>
<td id="media-audio-speex-raw"></td>
</tr>
<tr>
<td>Speex (<code class="mime">audio/ogg; codecs="speex"</code>)</td>
<td>Speex inside an Ogg container</td>
<td>Xiph</td>
<td id="media-audio-speex-ogg"></td>
</tr>
<tr>
<td>Speex (<code class="mime">audio/webm; codecs="speex"</code>)</td>
<td>Speex inside an WebM container</td>
<td>Xiph</td>
<td id="media-audio-speex-webm"></td>
</tr>
<tr>
<td>Vorbis (<code class="mime">audio/vorbis</code>)</td>
<td>Vorbis Raw</td>
<td>Xiph</td>
<td id="media-audio-vorbis-raw"></td>
</tr>
<tr>
<td>Vorbis (<code class="mime">audio/ogg; codecs="vorbis"</code>)</td>
<td>Vorbis inside an Ogg container</td>
<td>Xiph</td>
<td id="media-audio-vorbis-ogg"></td>
</tr>
<tr>
<td>Vorbis (<code class="mime">audio/webm; codecs="vorbis"</code>)</td>
<td>Vorbis inside an WebM container</td>
<td>Xiph</td>
<td id="media-audio-vorbis-webm"></td>
</tr>
</table>
<h3>Video</h3>
<table border="1">
<tr>
<th>Codec</th>
<th>Description</th>
<th>Developer</th>
<th>Supported</th>
</tr>
<tr>
<td>Daala (<code class="mime">video/daala</code>)</td>
<td>Daala Raw</td>
<td>Xiph</td>
<td id="media-video-daala-raw"></td>
</tr>
<tr>
<td>Daala (<code class="mime">video/ogg; codecs="daala"</code>)</td>
<td>Daala inside an Ogg container</td>
<td>Xiph</td>
<td id="media-video-daala-ogg"></td>
</tr>
<tr>
<td>Daala (<code class="mime">video/webm; codecs="daala"</code>)</td>
<td>Daala inside an WebM container</td>
<td>Xiph</td>
<td id="media-video-daala-webm"></td>
</tr>
<tr>
<td>Theora (<code class="mime">video/theora</code>)</td>
<td>Theora Raw</td>
<td>Xiph</td>
<td id="media-video-theora-raw"></td>
</tr>
<tr>
<td>Theora (<code class="mime">video/ogg; codecs="theora"</code>)</td>
<td>Theora inside an Ogg container</td>
<td>Xiph</td>
<td id="media-video-theora-ogg"></td>
</tr>
<tr>
<td>Theora (<code class="mime">video/webm; codecs="theora"</code>)</td>
<td>Theora inside an WebM container</td>
<td>Xiph</td>
<td id="media-video-theora-webm"></td>
</tr>
<tr>
<td>VP3 (<code class="mime">video/x-vp3</code>)</td>
<td>VP3 Raw</td>
<td>On2</td>
<td id="media-video-vp3-raw"></td>
</tr>
<tr>
<td>VP5 (<code class="mime">video/x-vp5</code>)</td>
<td>VP5 Raw</td>
<td>On2</td>
<td id="media-video-vp5-raw"></td>
</tr>
<tr>
<td>VP6 (<code class="mime">video/x-vp6</code>)</td>
<td>VP6 Raw</td>
<td>On2</td>
<td id="media-video-vp6-raw"></td>
</tr>
<tr>
<td>VP7 (<code class="mime">video/x-vp7</code>)</td>
<td>VP7 Raw</td>
<td>On2</td>
<td id="media-video-vp7-raw"></td>
</tr>
<tr>
<td>VP8 (<code class="mime">video/vp8</code>)</td>
<td>VP8 Raw</td>
<td>Google</td>
<td id="media-video-vp8-raw"></td>
</tr>
<tr>
<td>VP8 (<code class="mime">video/ogg; codecs="vp8"</code>)</td>
<td>VP8 inside an Ogg container</td>
<td>Google</td>
<td id="media-video-vp8-ogg"></td>
</tr>
<tr>
<td>VP8 (<code class="mime">video/webm; codecs="vp8"</code>)</td>
<td>VP8 inside an WebM container</td>
<td>Google</td>
<td id="media-video-vp8-webm"></td>
</tr>
<tr>
<td>VP9 (<code class="mime">video/vp9</code>)</td>
<td>VP9 Raw</td>
<td>Google</td>
<td id="media-video-vp9-raw"></td>
</tr>
<tr>
<td>VP9 (<code class="mime">video/ogg; codecs="vp9"</code>)</td>
<td>VP9 inside an Ogg container</td>
<td>Google</td>
<td id="media-video-vp9-ogg"></td>
</tr>
<tr>
<td>VP9 (<code class="mime">video/webm; codecs="vp9"</code>)</td>
<td>VP9 inside an WebM container</td>
<td>Google</td>
<td id="media-video-vp9-webm"></td>
</tr>
<tr>
<td>AV1 (<code class="mime">video/av1</code>)</td>
<td>AOMedia Video 1 Raw (VP10 like)</td>
<td>Google</td>
<td id="media-video-av1-raw"></td>
</tr>
<tr>
<td>AV1 (<code class="mime">video/ogg; codecs="av1"</code>)</td>
<td>AOMedia Video 1 inside an Ogg container</td>
<td>Google</td>
<td id="media-video-av1-ogg"></td>
</tr>
<tr>
<td>AV1 (<code class="mime">video/webm; codecs="av1"</code>)</td>
<td>AOMedia Video 1 inside an WebM container</td>
<td>Google</td>
<td id="media-video-av1-webm"></td>
</tr>
</table>
<h3>Playlists</h3>
<table border="1">
<tr>
<th>Codec</th>
<th>Description</th>
<th>Developer</th>
<th>Supported</th>
</tr>
<tr>
<td>M3U (<code class="mime">application/mpegurl</code> and <code class="mime">application/x-mpegurl</code>)</td>
<td>MPEG Layer III URI</td>
<td>Winamp</td>
<td id="media-playlists-m3u"></td>
</tr>
<tr>
<td>M3U Audio (<code class="mime">audio/mpegurl</code> and <code class="mime">audio/x-mpegurl</code>)</td>
<td>MPEG Layer III URI (Audio only)</td>
<td>Winamp</td>
<td id="media-playlists-m3u-audio"></td>
</tr>
</table>
<h3>Streaming</h3>
<table border="1">
<tr>
<th>Codec</th>
<th>Description</th>
<th>Developer</th>
<th>Supported</th>
</tr>
<tr>
<td>DASH (<code class="mime">application/dash+xml</code>)</td>
<td>Dynamic Adaptive Streaming over HTTP</td>
<td>MPEG</td>
<td id="media-streaming-dash"></td>
</tr>
<tr>
<td>HLS (<code class="mime">application/vnd.apple.mpegurl</code>)</td>
<td>HTTP Live Streaming</td>
<td>Apple</td>
<td id="media-streaming-hls"></td>
</tr>
<tr>
<td>HLS Audio (<code class="mime">application/vnd.apple.mpegurl.audio</code>)</td>
<td>HTTP Live Streaming (Audio only)</td>
<td>Apple</td>
<td id="media-streaming-hls-audio"></td>
</tr>
</table>
<script>
class BrowserSupportChecker{

	static existsOn(clazz,parent){
		return (!!clazz) && clazz in parent;
	}

	static existsGlobal(clazz){
		return BrowserSupportChecker.existsOn(clazz,window);
	}
	
	static isClassHTMLMediaElementSupported(){
		return BrowserSupportChecker.existsGlobal('HTMLMediaElement');
	}
	
	static isClassHTMLAudioElementSupported(){
		return BrowserSupportChecker.existsGlobal('HTMLAudioElement');
	}
	
	static isClassHTMLVideoElementSupported(){
		return BrowserSupportChecker.existsGlobal('HTMLVideoElement');
	}
	
	static isClassMediaSourceSupported(){
		return BrowserSupportChecker.existsGlobal('MediaSource');
	}
	
	static isCodecMIMETypeSupported(mimeType){
		if(BrowserSupportChecker.isClassMediaSourceSupported()){
			if(BrowserSupportChecker.existsOn('isTypeSupported',MediaSource)){
				console.log(mimeType,MediaSource.isTypeSupported(mimeType));
				let supported = MediaSource.isTypeSupported(mimeType);
				if(supported){
					return true;
				}
			}
		}
		if(BrowserSupportChecker.isClassHTMLVideoElementSupported()){
			let video = document.createElement('video');
			return video.canPlayType(mimeType);
		}
		return false;
	}

}

function setSupported(elem,supported){
	if(!elem){
		return;
	}
	if(supported){
		elem.innerHTML = '<b style="color:green;">Supported</b>';
	}else{
		elem.innerHTML = '<b style="color:red;">Not Supported</b>';
	}
}

//////
////// MEDIA - BASICS
//////
let htmlmediaelement = document.getElementById('media-basics-htmlmediaelement');
setSupported(htmlmediaelement,BrowserSupportChecker.existsGlobal('HTMLMediaElement'));

let mediasource = document.getElementById('media-basics-mediasource');
setSupported(mediasource,BrowserSupportChecker.existsGlobal('MediaSource'));

//////
////// MEDIA - CONTAINERS
//////
let f4v = document.getElementById('media-containers-f4v');
setSupported(f4v,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-f4v'));

let flv = document.getElementById('media-containers-flv');
setSupported(flv,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-flv'));

let matroska_audio = document.getElementById('media-containers-matroska-audio');
setSupported(matroska_audio,BrowserSupportChecker.isCodecMIMETypeSupported('audio/x-matroska'));

let matroska_video = document.getElementById('media-containers-matroska-video');
setSupported(matroska_video,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-matroska'));

let ogg_audio = document.getElementById('media-containers-ogg-audio');
setSupported(ogg_audio,BrowserSupportChecker.isCodecMIMETypeSupported('audio/ogg'));

let ogg_video = document.getElementById('media-containers-ogg-video');
setSupported(ogg_video,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg'));

let ogg_application = document.getElementById('media-containers-ogg-application');
setSupported(ogg_application,BrowserSupportChecker.isCodecMIMETypeSupported('application/ogg'));

let quicktime = document.getElementById('media-containers-quicktime');
setSupported(quicktime,BrowserSupportChecker.isCodecMIMETypeSupported('video/quicktime'));

let webm_audio = document.getElementById('media-containers-webm-audio');
setSupported(webm_audio,BrowserSupportChecker.isCodecMIMETypeSupported('audio/webm'));

let webm_video = document.getElementById('media-containers-webm-video');
setSupported(webm_video,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm'));

//////
////// MEDIA - AUDIO
//////
let flac_raw = document.getElementById('media-audio-flac-raw');
setSupported(flac_raw,BrowserSupportChecker.isCodecMIMETypeSupported('audio/flac'));

let flac_ogg = document.getElementById('media-audio-flac-ogg');
setSupported(flac_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('audio/ogg; codecs="flac"'));

let flac_webm = document.getElementById('media-audio-flac-webm');
setSupported(flac_webm,BrowserSupportChecker.isCodecMIMETypeSupported('audio/webm; codecs="flac"'));

let opus_raw = document.getElementById('media-audio-opus-raw');
setSupported(opus_raw,BrowserSupportChecker.isCodecMIMETypeSupported('audio/opus'));

let opus_ogg = document.getElementById('media-audio-opus-ogg');
setSupported(opus_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('audio/ogg; codecs="opus"'));

let opus_webm = document.getElementById('media-audio-opus-webm');
setSupported(opus_webm,BrowserSupportChecker.isCodecMIMETypeSupported('audio/webm; codecs="opus"'));

let speex_raw = document.getElementById('media-audio-speex-raw');
setSupported(speex_raw,BrowserSupportChecker.isCodecMIMETypeSupported('audio/speex') || BrowserSupportChecker.isCodecMIMETypeSupported('audio/x-speex'));

let speex_ogg = document.getElementById('media-audio-speex-ogg');
setSupported(speex_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('audio/ogg; codecs="speex"'));

let speex_webm = document.getElementById('media-audio-speex-webm');
setSupported(speex_webm,BrowserSupportChecker.isCodecMIMETypeSupported('audio/webm; codecs="speex"'));

let vorbis_raw = document.getElementById('media-audio-vorbis-raw');
setSupported(vorbis_raw,BrowserSupportChecker.isCodecMIMETypeSupported('audio/vorbis'));

let vorbis_ogg = document.getElementById('media-audio-vorbis-ogg');
setSupported(vorbis_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('audio/ogg; codecs="vorbis"'));

let vorbis_webm = document.getElementById('media-audio-vorbis-webm');
setSupported(vorbis_webm,BrowserSupportChecker.isCodecMIMETypeSupported('audio/webm; codecs="vorbis"'));

//////
////// MEDIA - VIDEO
//////
let daala_raw = document.getElementById('media-video-daala-raw');
setSupported(daala_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/daala'));

let daala_ogg = document.getElementById('media-video-daala-ogg');
setSupported(daala_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg; codecs="daala"'));

let daala_webm = document.getElementById('media-video-daala-webm');
setSupported(daala_webm,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm; codecs="daala"'));

let theora_raw = document.getElementById('media-video-theora-raw');
setSupported(theora_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/theora'));

let theora_ogg = document.getElementById('media-video-theora-ogg');
setSupported(theora_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg; codecs="theora"'));

let theora_webm = document.getElementById('media-video-theora-webm');
setSupported(theora_webm,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm; codecs="theora"'));

let vp3_raw = document.getElementById('media-video-vp3-raw');
setSupported(vp3_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp3'));

let vp5_raw = document.getElementById('media-video-vp5-raw');
setSupported(vp5_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp5'));

let vp6_raw = document.getElementById('media-video-vp6-raw');
setSupported(vp6_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp6'));

let vp7_raw = document.getElementById('media-video-vp7-raw');
setSupported(vp7_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp7'));

let vp8_raw = document.getElementById('media-video-vp8-raw');
setSupported(vp8_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/vp8') || BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp8'));

let vp8_ogg = document.getElementById('media-video-vp8-ogg');
setSupported(vp8_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg; codecs="vp8"'));

let vp8_webm = document.getElementById('media-video-vp8-webm');
setSupported(vp8_webm,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm; codecs="vp8"'));

let vp9_raw = document.getElementById('media-video-vp9-raw');
setSupported(vp9_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/vp9') || BrowserSupportChecker.isCodecMIMETypeSupported('video/x-vp9'));

let vp9_ogg = document.getElementById('media-video-vp9-ogg');
setSupported(vp9_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg; codecs="vp9"'));

let vp9_webm = document.getElementById('media-video-vp9-webm');
setSupported(vp9_webm,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm; codecs="vp9"'));

let av1_raw = document.getElementById('media-video-av1-raw');
setSupported(av1_raw,BrowserSupportChecker.isCodecMIMETypeSupported('video/av1'));

let av1_ogg = document.getElementById('media-video-av1-ogg');
setSupported(av1_ogg,BrowserSupportChecker.isCodecMIMETypeSupported('video/ogg; codecs="av1"'));

let av1_webm = document.getElementById('media-video-av1-webm');
setSupported(av1_webm,BrowserSupportChecker.isCodecMIMETypeSupported('video/webm; codecs="av1"'));

//////
////// MEDIA - Playlists
//////
let m3u = document.getElementById('media-playlists-m3u');
setSupported(m3u,BrowserSupportChecker.isCodecMIMETypeSupported('application/mpegurl') || BrowserSupportChecker.isCodecMIMETypeSupported('application/x-mpegurl'));

let m3u_audio = document.getElementById('media-playlists-m3u-audio');
setSupported(m3u_audio,BrowserSupportChecker.isCodecMIMETypeSupported('audio/mpegurl') || BrowserSupportChecker.isCodecMIMETypeSupported('audio/x-mpegurl'));

//////
////// MEDIA - Streaming
//////
let dash = document.getElementById('media-streaming-dash');
setSupported(dash,BrowserSupportChecker.isCodecMIMETypeSupported('application/dash+xml'));

let hls = document.getElementById('media-streaming-hls');
setSupported(hls,BrowserSupportChecker.isCodecMIMETypeSupported('application/vnd.apple.mpegurl'));

let hls_audio = document.getElementById('media-streaming-hls-audio');
setSupported(hls_audio,BrowserSupportChecker.isCodecMIMETypeSupported('application/vnd.apple.mpegurl.audio'));
</script>
</body>
</html>
